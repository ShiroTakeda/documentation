=================================================
`Release Notes - Citation Style Language 1.0.1`__
=================================================

__ `Table of Contents`_

.. class:: fixed

   `citationstyles.org`__

__ http://citationstyles.org/

.. class:: info-version

   version 2011-10-20

.. class:: contributors

   Author
       * Rintze M. Zelle

========

.. contents:: Table of Contents

========


Introduction
------------

**Temporary Notice:** the changes listed below are still in flux, and only will
become definite with the actual release of CSL 1.0.1. Please give feedback via
the referenced issue ticket, the `xbiblio mailing list
<https://lists.sourceforge.net/lists/listinfo/xbiblio-devel>`_, or the Zotero
forums.

This document describes the changes introduced with version 1.0.1 of the
Citation Style Language (CSL), as compared to the CSL 1.0 schema and the
2010-05-30 update of the CSL 1.0 specification. For full details on how to use
new features, see the `draft CSL 1.0.1 specification
<http://goo.gl/0UfDl>`_.

CSL 1.0.1 is a backwards compatible release, meaning that any valid CSL 1.0
style should validate against the CSL 1.0.1 schema and work with any CSL
1.0.1-compatible CSL processor.

`Rendered version <http://goo.gl/mD2Ez>`_

Changes:
https://github.com/citation-style-language/schema
From
75240da3ee54184009f40982a485dc68e7a0fa5f (March 21, 2010)
up to
06f663099afcd619cd5edbb743a533952ebd74d0 (June 29, 2011)

https://github.com/citation-style-language/schema/compare/75240da3ee54184009f40982a485dc68e7a0fa5f...06f663099afcd619cd5edbb743a533952ebd74d0
https://github.com/citation-style-language/schema/compare/06f663099afcd619cd5edbb743a533952ebd74d0...master

https://github.com/citation-style-language/documentation/blob/master/specification.txt

From
fc49f31c821a668492975757b903ad4ef6dec21f (March 21, 2010)
up to
065cacd0326d2235b66bd332d31b1317cbc6ebdf (July 26, 2011)

https://github.com/citation-style-language/documentation/compare/fc49f31c821a668492975757b903ad4ef6dec21f...065cacd0326d2235b66bd332d31b1317cbc6ebdf
https://github.com/citation-style-language/documentation/compare/065cacd0326d2235b66bd332d31b1317cbc6ebdf...master

Cite Grouping
-------------

In in-text citations, cites with indentical names are often grouped, e.g. "(Doe
2001, 2004; Smith 2002)" instead of "(Doe 2001, Smith 2002, Doe 2004)". For CSL,
we refer to this as "cite grouping".

While cite grouping already existed for cites that were collapsed (e.g., "(Doe
2001, 2004; Smith 2002)"), cites can now also be grouped without collapsing.

A new attribute for ``cs:citation``, ``cite-group-delimiter``, allows a custom
delimiter to be set for cites in a group. Whenever this attribute or the
"collapse" attribute is used, cite grouping is activated. With
``cite-group-delimiter``, it is now possible to generate citations like "(Doe
2001,2004; Smith 2002; Anderson 2005)". See also `Cite Grouping
<http://goo.gl/0UfDl#cite-grouping>`_.

Ticket:

- https://github.com/citation-style-language/schema/issues/52

Disambiguation
--------------

The default value of ``givenname-disambiguation-rule`` has been changed from
"all-names" to "by-cite". The latter is a less aggressive disambiguation method
that is limited to ambiguous cites.

Ticket:

- https://github.com/citation-style-language/schema/issues/76

Gender-specific Ordinals
------------------------

It is now possible to define feminine, masculine and neuter variants of ordinal
suffixes, and specify the gender of the relevant noun CSL variables. For
example, this allows for automatic localization of the English "1st" and "first"
in French to "1er" and "premier" if the target noun is masculine (e.g., "1er
janvier" for "January 1st"), and "1re" and "premi�re" if the noun is feminine
(e.g., "1re �dition" for "1st edition"). See `Gender-specific Ordinals
<http://goo.gl/0UfDl#gender-specific-ordinals>`_ for details.

Ticket:

- https://github.com/citation-style-language/schema/issues/7

Input Data Model
----------------

The `CSL schema <https://github.com/citation-style-language/schema>`_
GitHub repository now contains a JSON schema describing the CSL input data model
(csl-data.json, and, to describe the citation objects that are embedded in word
processor documents, csl-citation.json). At this point, it is modeled on the
input model used by citeproc-js. The schemas are not necessarily incomplete and
aren't normative.

- https://github.com/citation-style-language/schema/blob/master/csl-data.json
- https://github.com/citation-style-language/schema/blob/master/csl-citation.json

Line Spacing
------------

The minimum value for line spacing has been increased to "1".

Ticket:

- https://github.com/citation-style-language/schema/issues/73

Locale Metadata
---------------

Locale files may now include ``cs:info`` as the first child element of the
``cs:locale`` root element. This element may contain several child elements: one
or multiple ``cs:translator`` elements, ``cs:rights`` and ``cs:updated``.
``cs:translator`` can be used to specify the translator of the locale file,
using the same child elements available for ``cs:author`` and ``cs:contributor``
in styles: ``cs:name``, ``cs:email`` and ``cs:uri``. For example:

.. sourcecode:: xml

    <locale>
      <info>
        <translator>
          <name>John Doe</name>
          <email>john.doe@domain.com</email>
        </translator>
        <rights license="http://creativecommons.org/licenses/by-sa/3.0/">This
        work is licensed under a Creative Commons Attribution-Share Alike 3.0
        Unported License</rights>
        <updated>2011-10-10T23:31:02+00:00</updated>
      </info>
    </locale>

Ticket:

- https://github.com/citation-style-language/schema/issues/10

Names
-----

Affixes on Name-parts
~~~~~~~~~~~~~~~~~~~~~

The ``prefix`` and ``suffix`` attributes are now also allowed on
``cs:name-part``, allowing for name formatting like "DOE (Jane)".

Ticket:

- https://github.com/citation-style-language/schema/issues/47

``cs:name`` Optional
~~~~~~~~~~~~~~~~~~~~

The ``cs:name`` element is no longer a required child element of ``cs:names``.

Ticket:

- https://github.com/citation-style-language/schema/issues/53

Et-al Abbreviation with Last Name
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

By using the new ``et-al-use-last`` attribute for ``cs:name``, it is now
possible to use et-al abbreviation and show the last author (as required by the
6th edition of the APA style). In this case an ellipsis, preceded by the name
delimiter, replaces the "et-al" or "and others" term, e.g.:

::

    A. Goffeau, B. G. Barrell, H. Bussey, R. W. Davis, B. Dujon, H. Feldmann, �
    S. G. Oliver

The accompanying ``names-use-last`` attribute for ``cs:key`` can be used to
override the value of ``et-al-use-last`` for sorting.

See also `Name <http://goo.gl/0UfDl#name>`_.

Ticket:

- https://github.com/citation-style-language/schema/issues/11

Et-al Delimiter
~~~~~~~~~~~~~~~

Previously, the "et-al" and "and others" terms were preceded by a space when
rendered as a result of et-al abbreviation. The new optional
``delimiter-precedes-et-al`` attribute for ``cs:name`` allows the name delimiter
to be used instead (e.g. "Doe, et al. 2000" instead of "Doe et al. 2000"), with
control options similar to ``delimiter-precedes-last``.

See also `Name <http://goo.gl/0UfDl#name>`_.

Ticket:

- https://github.com/citation-style-language/schema/issues/12

Illustrator
~~~~~~~~~~~

A new name variable, "illustrator", has been added, for e.g. illustrators of
comics or children's books.

Ticket:

- https://github.com/citation-style-language/schema/issues/89

Independent ``name-min`` and ``names-use-first``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The CSL schema now allows the ``name-min`` and ``names-use-first`` attributes to
be set independently on ``cs:key``.

Ticket:

- https://github.com/citation-style-language/schema/issues/82

Normalizing Initials in "long" Form Names
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The new ``initialize`` attribute for ``cs:name`` can be set to "false" (the
default is "true") to stop ``initialize-with`` from activating name
initializing. However, in this case, the value of ``initialize-with`` is still
appended to initials present in the "long" form of names. For example,

.. sourcecode:: xml

    <names variable="author">
      <name initialize-with=". " initialize="false"/>
    </names>

reformats the names "James T Kirk" and "Hunter S. Thompson" to "James T. Kirk"
and "Hunter S. Thompson".

Ticket:

- https://github.com/citation-style-language/schema/issues/60

Subsequent Author Substitution
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A new attribute for ``cs:bibliography``, ``subsequent-author-substitute-rule``,
gives more options for subsequent author substitution. Whereas previously only
the whole name list could be substituted in case of a complete match, now names
can be substituted on an individual basis, even for incomplete matches for the
name list. For example, it is now possible to obtain bibliographic entries like:

::

    Doe, Johnson & Williams. 2001.
    --- & Smith. 2002.
    Doe, Stevens & Miller. 2003.
    ---, --- & ---. 2004.

See `Reference Grouping <http://goo.gl/0UfDl#reference-grouping>`_.

Ticket:

- https://github.com/citation-style-language/schema/issues/4

Page Range Formats
------------------

Page ranges can now be reformatted in the format used by the Oxford University
Standard for Citation of Legal Authorities (OSCOLA). With ``page-range-format``
set to "minimal-two", page ranges are abbreviated as with "minimal", except that
the second number keeps at least two digits for numbers of 10 and up (e.g.
"1-5", "20-28", "100-16").

Ticket:

- https://github.com/citation-style-language/schema/issues/84

Specification
-------------

The CSL specification has been largely rewritten for improved precision and
clarity. There are several new paragraphs (e.g., `Terminology
<http://goo.gl/0UfDl#terminology>`_ and `File Types
<http://goo.gl/0UfDl#file-types>`_), and every `CSL variable
<http://goo.gl/0UfDl#appendix-i-variables>`_ is now accompanied by a short
description.

Ticket:

- https://github.com/citation-style-language/schema/issues/3 (variable descriptions)

Style Metadata
--------------

eISSN
~~~~~

Previously, the ``cs:issn`` and ``cs:issnl`` elements could already be used to
indicate respectively the different ISSNs for journal-specific styles (e.g. of
the print and online editions), and the journal's ISSN-L. The new optional
``cs:eissn`` element allows the ISSN of the online edition (the eISSN) to be
explictly specified, e.g.:

.. sourcecode:: xml

    <info>
      <title>Applied and Environmental Microbiology</title>
      <issn>0099-2240</issn>
      <eissn>1098-5336</eissn>
    </info>

Ticket:

- https://github.com/citation-style-language/schema/issues/51

License
~~~~~~~

The ``cs:rights`` element may now carry a ``license`` attribute to indicate the
URI of the style license, e.g.:

.. sourcecode:: xml

    <info>
      <rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work
      is licensed under a Creative Commons Attribution-Share Alike 3.0 Unported
      License</rights>
    </info>

Ticket:

- https://github.com/citation-style-language/schema/issues/45

Short Title
~~~~~~~~~~~

The new optional ``cs:title-short`` element can be used to give a shortened
style title, e.g.:

.. sourcecode:: xml

    <info>
      <title>Proceedings of the National Academy of Sciences</title>
      <title-short>PNAS</title-short>
    </info>

Ticket:

- https://github.com/citation-style-language/schema/issues/83

Text Case
---------

The specification now describes how sentence and title casing (set with the
``text-case`` attribute) works. Title casing is now limited to items that can be
assumed to be English. See `Text-case <http://goo.gl/0UfDl#text-case>`_.

Tickets:

- https://github.com/citation-style-language/documentation/issues/13
- https://github.com/citation-style-language/schema/issues/55

Terms
-----

A new term, "page-range-delimiter", makes it possible to customize (and
localize) the delimiter used for page ranges. The delimiter is only used when
the ``page-range-format`` is set. As this term did not exist in CSL 1.0 and will
be absent from CSL 1.0 locale files, it defaults to an en-dash.

Tickets:

- https://github.com/citation-style-language/schema/issues/56

Validation
----------

The schema has become slightly stricter when it comes to style validation. While
backward incompatible, the additional validation only concerns attributes that
had no use in CSL 1.0 styles.

No "verb" and "verb-short" Forms on Standalone ``cs:label``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

It is no longer allowed to set the ``form`` attribute to "verb" or "verb-short"
on standalone ``cs:label`` elements (these values are still allowed if
``cs:label`` is a child element of ``cs:names``).

Ticket:

- https://github.com/citation-style-language/schema/issues/71

Tests for ``condition`` on ``cs:if`` and ``cs:else-if``
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

While the specification already required ``condition`` on ``cs:if`` and
``cs:else-if`` to carry at least one condition attribute, the CSL schema also
validated cases where ``condition`` specified no tests. This has been corrected.

Ticket:

- https://github.com/citation-style-language/schema/issues/77

Variables
---------

Dedicated Variables "title" and "container-title" Abbreviations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Previously, "title" and "container-title" abbreviations were only accessible
through the "short" forms of these variables. As a result, it was impossible to
specifically test whether an abbreviation existed (``<if variable="title"/>``
tests "true" whenever a "long" or "short" form of "title" exists).

Now, these abbreviations can also be accessed through the dedicated
"title-short" and "container-title-short" variables. For example,

.. sourcecode:: xml

    <choose>
      <if variable="title-short">
        <group delimiter=" ">
          <text variable="title-short"/>
          <text variable="title" prefix="(" suffix=")"/>
        </group>
      </if>
      <else>
        <text variable="title"/>
      </else>
    </choose>

would give title listings like:

::

    The Hobbit (The Hobbit, or There and Back Again)
    Lord of the Rings
    Free Culture (Free Culture: The Nature and Future of Creativity)

Ticket:

- https://github.com/citation-style-language/schema/issues/2

More Number Variables
~~~~~~~~~~~~~~~~~~~~~

The CSL variables "chapter-number", "collection-number" and "number-of-pages",
which previously were standard variables, have now become number variables. As a
result, they can now be rendered through either ``cs:number`` or ``cs:text``.

Ticket:

- https://github.com/citation-style-language/schema/issues/9

New Variables: "dimensions", "ISSN", "PMCID", "PMID", "source"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

New CSL variables have been introduced:

- "dimensions" - for physical (e.g., size of an object), temporal (e.g., the
  running time of a movie) or relative dimensions (e.g., the scale of a map)
- "ISSN" - International Standard Serial Number
- "PMCID" - PubMed Central reference number
- "PMID" - PubMed reference number
- "source" - from whence the item originates (e.g. a library catalog or database)

Tickets:

- https://github.com/citation-style-language/schema/issues/14 ("dimensions")
- https://github.com/citation-style-language/schema/issues/86 ("ISSN")
- https://github.com/citation-style-language/schema/issues/87 ("PMCID", "PMID")
- https://github.com/citation-style-language/schema/issues/88 ("source")

"sub verbo" Locator Type
~~~~~~~~~~~~~~~~~~~~~~~~

CSL 1.0 contained a bug: it was impossible to test for the "sub verbo" locator
type (because the value of the "locator" attribute is read as a list, "sub
verbo" is read as "sub" and "verbo"). To circumvent this limitation, "sub-verbo"
can now be used as a test value (the "sub verbo" term and input field remain
unchanged). An example:

.. sourcecode:: xml

    <choose>
      <if locator="page sub-verbo" match="any">
        ...
      </if>
    </choose>

Ticket:

- https://github.com/citation-style-language/schema/issues/72

Using ``cs:label`` with Number Variables
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The ``cs:label`` element, which previously could only be used for the "locator"
and "page" variables (and name variables, when used as a child element of
``cs:names``), can now also be used with any `number variable
<http://goo.gl/0UfDl#number-variables>`_.

Ticket:

- https://github.com/citation-style-language/schema/issues/8